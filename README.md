–í–æ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `README.md`, —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `models.NewFormUrl` –∏ `models.OldFormUrl`:

---

# üåê URL Shortener

–ü—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ Go —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ PostgreSQL –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ —Å—Å—ã–ª–∫–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö URL —Å –∑–∞–¥–∞–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –¥–µ–π—Å—Ç–≤–∏—è
* –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–æ—Ä–æ—Ç–∫–∏–º —Å—Å—ã–ª–∫–∞–º
* –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫
* –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Go 1.20+
* PostgreSQL

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (`database.DefaultDsn`), –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
host=localhost user=postgres password=postgres dbname=shortener port=5432 sslmode=disable
```

## üèÅ –ó–∞–ø—É—Å–∫

```bash
go run main.go 8080
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞: [http://localhost:8080](http://localhost:8080)

## üìö API

### üîó POST `/shorten`

–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏.

* **–ú–µ—Ç–æ–¥**: `POST`

* **–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
  `Content-Type: application/json`

* **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "url": "https://example.com/some/long/path",
  "time": 3600
}
```

* `url`: –∏—Å—Ö–æ–¥–Ω—ã–π –¥–ª–∏–Ω–Ω—ã–π URL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

* `time`: –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å—Å—ã–ª–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)

* **–û—Ç–≤–µ—Ç (200 OK)**:

```json
{
  "id": 1,
  "code": "aB3xYz",
  "time": 3600,
  "real_url": "https://example.com/some/long/path",
  "short_url": "http://localhost:8080/aB3xYz"
}
```

---

### üöÄ GET `/{code}`

–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ.

–ü—Ä–∏–º–µ—Ä:

```http
GET http://localhost:8080/aB3xYz
```

–û—Ç–≤–µ—Ç:
`302 Found` ‚Üí –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL

---

### üßπ DELETE `/clear`

–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫ –∏–∑ –±–∞–∑—ã.

* **–ú–µ—Ç–æ–¥**: `DELETE`
* **–û—Ç–≤–µ—Ç**:

  * `204 No Content` ‚Äî –µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ
  * `500 Internal Server Error` ‚Äî –ø—Ä–∏ —Å–±–æ–µ

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏

### üîß `OldFormUrl` ‚Äî –∑–∞–ø—Ä–æ—Å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞

```go
type OldFormUrl struct {
	Url          string `json:"url"`   // –∏—Å—Ö–æ–¥–Ω—ã–π URL
	ExpiringTime int    `json:"time"`  // —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)
}
```

### üì¶ `NewFormUrl` ‚Äî –æ—Ç–≤–µ—Ç —Å —Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–π —Å—Å—ã–ª–∫–æ–π

```go
type NewFormUrl struct {
	Id           int    `json:"id"`
	Code         string `json:"code"`
	ExpiringTime int    `json:"time"`
	RealUrl      string `json:"real_url"`
	ShortUrl     string `json:"short_url"`
}
```

## üß™ –ü—Ä–∏–º–µ—Ä—ã cURL

**–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏:**

```bash
curl -X POST http://localhost:8080/shorten \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com", "time":300}'
```

**–û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã:**

```bash
curl -X DELETE http://localhost:8080/clear
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ¬© 2025

---